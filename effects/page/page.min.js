function CHIpage(g,v,f,a,l){function q(c){return c&&$(c).size()}function A(c){return c&&/^[\+]?[0]*[1-9][\d]*$/.test(c)}function B(c,a){return eval(c.map(function(){return $(this)[a](!0)}).get().join("+"))}function y(){if(!r){t();r=!0;var c,a=!1,b=-1*parseInt(h.css(m));"-"==d?b==z&&(a=!0,c=0):0==b&&(a=!0,c="-="+z);a&&h.css(m,c);c={};c[m]=d+"="+w;h.animate(c,function(){r=!1;k&&u()});l.move&&l.move("-"==d?1:-1)}}function u(){x||(x=setInterval(y,C))}function t(){clearInterval(x);x=0}if(q(g)){a||(a={});
f||(f={});l||(l={});var e={};g=$(g).eq(0);var h=v?g.find(v).eq(0):g.children().eq(0);if(h.size()){var n=h.children(),x=0,b=a.dir&&0<=$.inArray(a.dir.toLowerCase(),["u","d","l","r"])?a.dir.toLowerCase():"l",C=A(a.delay)?a.delay:3E3;v="mstop"in a?Boolean(a.mstop):!0;var d="l"==b||"u"==b?"-":"+",k="auto"in a?a.auto:!0,m;"l"==b||"r"==b?(m="marginLeft",a="width",b="outerWidth"):(m="marginTop",a="height",b="outerHeight");var p=g[a](),z=B(n,b),w=n[b](!0),b=n.size();if(!(p>z)){p=Math.ceil(p/w);n=n.slice(b-
p,b).clone();h.children().eq(0).before(n);h[a](w*(b+p));h.css(m,-p*w);var r=!1;v&&g.mouseover(t).mouseleave(function(){k&&u()});e.roll=function(){d="-"==d?"+":"-"};e.start=function(){k=!0;u()};e.stop=function(){k=!1;t()};e.prev=function(a){if(!r){t();var b=d;d="+";y();a||(d=b);k&&u()}};e.next=function(a){if(!r){t();var b=d;d="-";y();a||(d=b);k&&u()}};q(f.prev)&&$(f.prev).click(e.prev);q(f.next)&&$(f.next).click(e.next);q(f.stop)&&$(f.stop).click(e.stop);q(f.start)&&$(f.start).click(e.start);k&&e.start();
l.init&&l.init(g);return e}}}};