function CHIpage(g,u,e,a,l){function q(d){return d&&$(d).size()}function A(d){return d&&/^[\+]?[0]*[1-9][\d]*$/.test(d)}function B(d,a){return eval(d.map(function(){return $(this)[a](!0)}).get().join("+"))}function x(){if(!r){t();r=!0;var d,a=!1,b=-1*parseInt(h.css(m));"-"==f?b==y&&(a=!0,d=0):0==b&&(a=!0,d="-="+y);a&&h.css(m,d);d={};d[m]=f+"="+v;h.animate(d,function(){r=!1;k&&z()});l.move&&l.move()}}function z(){w||(w=setInterval(x,C))}function t(){clearInterval(w);w=0}if(q(g)){a||(a={});e||(e={});
l||(l={});var b={};g=$(g).eq(0);var h=u?g.find(u).eq(0):g.children().eq(0);if(h.size()){var n=h.children(),w=0,c=a.dir&&0<=$.inArray(a.dir.toLowerCase(),["u","d","l","r"])?a.dir.toLowerCase():"l",C=A(a.delay)?a.delay:3E3;u="mstop"in a?Boolean(a.mstop):!0;var f="l"==c||"u"==c?"-":"+",k="auto"in a?a.auto:!0,m;"l"==c||"r"==c?(m="marginLeft",a="width",c="outerWidth"):(m="marginTop",a="height",c="outerHeight");var p=g[a](),y=B(n,c),v=n[c](!0),c=n.size();if(!(p>y)){p=Math.ceil(p/v);n=n.slice(c-p,c).clone();
h.children().eq(0).before(n);h[a](v*(c+p));h.css(m,-p*v);var r=!1;u&&g.mouseover(t).mouseleave(function(){k&&z()});b.roll=function(){f="-"==f?"+":"-"};b.start=function(){k=!0;z()};b.stop=function(){k=!1;t()};b.prev=function(a){if(!r){t();var c=f;f="+";x();a||(f=c);if(k)b.on()}};b.next=function(a){if(!r){t();var c=f;f="-";x();a||(f=c);if(k)b.on()}};q(e.prev)&&$(e.prev).click(b.prev);q(e.next)&&$(e.next).click(b.next);q(e.stop)&&$(e.stop).click(b.stop);q(e.start)&&$(e.start).click(b.start);k&&b.start();
l.init&&l.init(g);return b}}}};