function CHImovie(e,r,c,a,k){function f(a){return a&&$(a).size()}function z(a){return a&&/^[\+]?[0]*[1-9][\d]*$/.test(a)}function B(a,c){return eval(a.map(function(){return $(this)[c](!0)}).get().join("+"))}function C(a){if(!n){n=!0;t();parseInt(u.css(p));var b=!1;l>a?(b=!0,l=a):l+v<a+1&&(b=!0,l=a-v+1);var e=g-1>l?l:g-1,f=function(){n=!1;q&&y();if(D){if(c.prev)$(c.prev)[a?"removeClass":"addClass"]("disabled");if(c.next)$(c.next)[a+1==h.length?"addClass":"removeClass"]("disabled")}k.move&&k.move.call(h.eq(d))};
b?(b={},b[p]=-e*E,u.stop().animate(b,f)):f();"undefined"!==typeof w&&w.eq(d).addClass("cur").siblings().removeClass("cur")}}function y(){x||(x=setInterval(b.next,F))}function t(){clearInterval(x);x=0}if(f(e)){a||(a={});c||(c={});k||(k={});var b={};e=$(e).eq(0);var u=r?e.find(r).eq(0):e.children().eq(0),x=0,h=u.children(),g=h.size(),A=g;if(!(2>g)){var v=z(a.minLi)?a.minLi:1;if(!(g<v)){var g=g-(v-1),m=a.dir&&0<=$.inArray(a.dir.toLowerCase(),["u","d","l","r"])?a.dir.toLowerCase():"l",F=z(a.delay)?a.delay:
3E3;r="mstop"in a?!!a.mstop:!0;var q="auto"in a?!!a.auto:!0,d=0,l=0,D="limit"in a?!!a.limit:!0,p;"l"==m||"r"==m?(p="marginLeft",a="width",m="outerWidth"):(p="marginTop",a="height",m="outerHeight");var G=B(h,m),E=h[m](!0);u[a](G).css(p,0);var n=!1;b.show=function(a){d=void 0===a?d+1:a;d+=A;d%=A;h.eq(d).addClass("cur").siblings().removeClass("cur");C(d)};b.start=function(){q=!0;y()};b.stop=function(){t();q=!1};r&&e.mouseover(stop).mouseleave(function(){q&&y()});b.size=function(){return h.size()};b.prev=
function(){n||(t(),b.show(--d))};b.next=function(){n||(t(),b.show(++d))};if(f(c.indices)){var w=$(c.indices);w.eq(0).addClass("cur");w.click(function(){b.show($(this).index(c.indices))})}f(c.prev)&&$(c.prev).click(function(){!$(this).hasClass("disabled")&&b.prev()});f(c.next)&&$(c.next).click(function(){!$(this).hasClass("disabled")&&b.next()});f(c.stop)&&$(c.stop).click(b.stop);f(c.start)&&$(c.start).click(b.start);q&&b.start();b.show(0);k.init&&k.init(e);return b}}}};