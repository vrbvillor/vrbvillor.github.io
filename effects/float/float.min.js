function CHIfloat(k,a,l){function b(a){return a instanceof Function}if(k&&$(k).size()){a||(a={});l||(l={});var m={},f=$(k).eq(0),q=0,L=a.fix?a.fix:!1;f.css({position:"absolute"});var g,r,h,t,n,u,p,v;a?("top"in a?g=b(a.top)?a.top:parseInt(a.top):"bottom"in a?r=b(a.bottom)?a.bottom:parseInt(a.bottom):g=0,"left"in a?h=b(a.left)?a.left:parseInt(a.left):"right"in a?t=b(a.right)?a.right:parseInt(a.right):h=0,"minTop"in a&&(n=b(a.minTop)?a.minTop:parseInt(a.minTop)),"maxTop"in a&&(u=b(a.maxTop)?a.maxTop:
parseInt(a.maxTop)),"minLeft"in a&&(p=b(a.minLeft)?a.minLeft:parseInt(a.minLeft)),"maxLeft"in a&&(v=b(a.maxLeft)?a.maxLeft:parseInt(a.maxLeft))):g=h=n=p=0;m.move=function(){var a=$(window),k=a.width(),I=a.height(),D=a.scrollLeft(),a=a.scrollTop(),e=f.position(),w=e.left,e=e.top,J=f.outerWidth(!0),K=f.outerHeight(!0),E,F,x,y,G,H;void 0!==h&&(x=b(h)?h():h);void 0!==t&&(G=b(t)?t():t);void 0!==r&&(H=b(r)?r():r);void 0!==g&&(y=b(g)?g():g);var z,A,B,C;void 0!==p&&(z=b(p)?p():p);void 0!==v&&(B=b(v)?v():
v);void 0!==n&&(A=b(n)?n():n);void 0!==u&&(C=b(u)?u():u);var c=void 0===x?k+D-G-J:D+x,d=void 0===y?I+a-H-K:a+y;L?(E=c<z?z-D:c>B?B-D:void 0===x?k-G-J:x,F=d<A?A-a:d>C?C-a:void 0===y?I-H-K:y,f.css({position:"fixed",left:E,top:F})):(void 0!==z&&(c=Math.max(c,z)),void 0!==B&&(c=Math.min(c,B)),void 0!==A&&(d=Math.max(d,A)),void 0!==C&&(d=Math.min(d,C)),E=(0<c-w?Math.ceil(.1*(c-w)):Math.floor(.1*(c-w)))+w,F=(0<d-e?Math.ceil(.1*(d-e)):Math.floor(.1*(d-e)))+e,c==w&&d==e?clearTimeout(q):q=setTimeout(function(){f.css({top:F,
left:E});m.move()},1));l.move&&l.move(m)};$(window).on("scroll resize",function(){clearTimeout(q);q=0;q=setTimeout(m.move,100)});m.move();l.init&&l.init(f);return m}};