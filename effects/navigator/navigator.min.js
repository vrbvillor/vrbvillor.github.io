function CHInavigator(g,q,e,d){function l(a){var b=f.filter(".cur"),c=f.index(b),e=f.eq(a).addClass("cur");a!=c&&($.isFunction(d.show)&&d.show.call(e),$.isFunction(d.hide)&&d.hide.call(b),b.removeClass("cur"))}function r(){for(var a=$(window)[m](),b=h.length,c=0;c<b;c++)if(h.eq(c).offset()[n]+p>a){c--;break}l(0>c?0:c>=b?b-1:c)}var k=0,f=$(g),h=$(q);if(!f.length||!h.length)return!1;$.isPlainObject(e)||(e={});g=/^h$/i.test(e.dir)?"h":"v";var m="v"==g?"scrollTop":"scrollLeft",n="v"==g?"top":"left",p=
isNaN(e.offset)?0:parseInt(e.offset);$.isPlainObject(d)||(d={});$(window).on("load scroll",function(a){clearTimeout(k);k=0;k=setTimeout(r,100);"load"==a.type&&$.isFunction(d.init)&&d.init()});f.click(function(){if($(this).hasClass("cur"))return!0;var a=f.index(this);l(a);var a=h.eq(a).offset()[n]+p,b={};b[m]=a;$("html,body").animate(b);return!1})};