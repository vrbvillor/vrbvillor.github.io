# JS教程（三）

我们还剩下引用型数据没有讲，现在我们就介绍引用型数据：对象。

## 普通对象

### 声明对象

```javascript
var a={};
var a=new Object;
var a=new Object();
```

上边这三种声明对象的方法是等效的，都会生成一个新对象。

### 给对象添加属性

对象可以在声明时添加属性，也可以在声明后添加属性。

```javascript
var a={
    id : 1
};
a.n=3;
a.s="abc";
a.f=function(){}
```

### 访问对象的属性

1. 直接使用`.`操作符就可以访问对象的属性。
    ```javascript
    a.s; // 输出 "abc"
    ```
    
    访问未声明的属性时，会得到`undefined`。
    
    ```javascript
    a.z; // 输出 undefined
    ```

2. 使用`["属性名"]`的形式访问对象的属性。使用这种方法也可以定义非常规名称的属性。

    ```javascript
    a["s"]; // 输出 "abc"
    a["123"]=123; // 输出 123
    a["123"]; // 输出 123
    a.123; // 报错
    ```

思考一下下边的代码，最终的结果会是什么：

```javascript
var a={
    abc : "abc",
    xyz : 123
},
abc = "xyz";

a.abc;
a[abc];
a["abc"];
```

### 删除对象的属性

```javascript
var a={
    abc : "abc"
};
a.abc; // 输出 "abc"

delete a.abc; // 输出 true
a.abc; // 输出 undefined
delete a; // 输出 false
```

从上边的代码看得出来，`delete`只能删除对象的属性，不能删除对象。

### 删除对象

我们之前介绍的几个值中，还有一个`null`没有介绍，它就是可以用来删除对象的。

```javascript
var a={
    abc : "abc"
};
a; // 输出 {abc : "abc"}
a=null; // 输出 null
a; // 输出 null
```

## 原始类型与引用类型区别（一）

原始类型字符串、数字、布尔型数据，它们在储存的时候，是把变量和数据（变量值）放在一起的，原始类型只有一个部分。但是引用类型对象，它会生成一个对象数据，再生成一个变量，让这个变量指向数据，所以一个引用类型有两个部分。

### 变量赋值

当你把一个原始类型的变量，赋值给另外一个变量时，会生成一个新的变量及数据。操作其中一个变量，另一个变量是不会随着它改变的。

```javascript
var a=5,b=a;
a=a+3;
a; // 输出 8
b; // 输出 5
```

但是如果你把一个引用类型的变量，赋值给另外一个变量时，只是会生成一个新的变量，然后这个新变量会指向旧的引用类型的数据，这时就有两个变量指向同一个数据。操作其中一个变量，另一个变量也会随着改变。

```javascript
var a={
    abc : 123
}, b=a;
a.abc++;
a.abc; // 输出 124
b.abc; // 输出 124
b.abc++;
a.abc; // 输出 125
b.abc; // 输出 125
```

### 编写代码

1. 写**二维点坐标**对象，先给出两个点，然后第三个点等于这两个点的坐标和（向量和）。
2. 有一个字符串`var s="abcdefg";`，一个对象`var o={}`，用循环给对象`o`添加属性`a`、`b`、`c`、`d`、`e`、`f`、`g`，七个属性的值分别是那个字母出现在字符串中的位置序号。

## 系统内置对象（一）

### `Math` 对象

`Math` 对象是用来进行数学运算的一个系统内置对象，它不能生成实例，也就是不能使用`var a=new Math()`这种代码，它的所有属性都是在`Math`对象本身上的。

属性    | 描述
--------|-----
E       | 返回算术常量 e，即自然对数的底数（约等于2.718）。
LN2     | 返回 2 的自然对数（约等于0.693）。
LN10    | 返回 10 的自然对数（约等于2.302）。
LOG2E   | 返回以 2 为底的 e 的对数（约等于 1.414）。
LOG10E  | 返回以 10 为底的 e 的对数（约等于0.434）。
PI      | 返回圆周率（约等于3.14159）。
SQRT1_2 | 返回返回 2 的平方根的倒数（约等于 0.707）。
SQRT2   | 返回 2 的平方根（约等于 1.414）。

方法             | 描述
-----------------|-----
abs(x)           | 返回 x 的绝对值。
acos(x)          | 返回 x 的反余弦值。
asin(x)          | 返回 x 的反正弦值。
atan(x)          | 以介于 -PI/2 与 PI/2 弧度之间的数值来返回 x 的反正切值。
atan2(y,x)       | 返回从 x 轴到点 (x,y) 的角度（介于 -PI/2 与 PI/2 弧度之间）。
ceil(x)          | 对数进行上舍入。
cos(x)           | 返回数的余弦。
exp(x)           | 返回 Ex 的指数。
floor(x)         | 对 x 进行下舍入。
log(x)           | 返回数的自然对数（底为e）。
max(x,y,z,...,n) | 返回 x,y,z,...,n 中的最高值。
min(x,y,z,...,n) | 返回 x,y,z,...,n中的最低值。
pow(x,y)         | 返回 x 的 y 次幂。
random()         | 返回 0 ~ 1 之间的随机数。
round(x)         | 把数四舍五入为最接近的整数。
sin(x)           | 返回数的正弦。
sqrt(x)          | 返回数的平方根。
tan(x)           | 返回角的正切。

像上边学到的生成对象方法中的`Object`也是系统内置对象，而且它是所有对象的根源。

### 编写代码

1. 给出一个角度值，把它转化成弧度值；再把这个过程反过来写。
2. 给出两个数字变量，代表直角三角形两个边长，求第三边长。
3. 生成`1`到`100`以内的随机数10个，并求当中的最大值。范围内随机数公式：`Math.random() * (Maximum - Minimum) + Minimum`。

----------


## 数组

数组是用来存放一系列数据的，它是由内置对象`Array`生成的。数组当中的每一项数据都叫作**数组的元素**，每个元素所在数组当中的位置叫作**元素的索引**。

### 声明数组

```javascript
var a=[];
var a=new Array();
```

在使用`Array`生成数组时，需要注意

+ 当`Array`括号内是一个数字参数时，这个数字会作为数组的长度来生成新数组。

    ```javascript
    var a=new Array(3); // 输出 undefined
    a; // 输出 [undefined * 3]
    ```
    
+ 当`Array`括号内是多个参数时，这些参数会被当作数组的元素来生成新数组。

    ```javascript
    var a=new Array(3,4,5); // 输出 undefined
    a; // 输出 [3, 4, 5]
    ```

因为Javascript中数组的长度在声明之后，也是可变的，所以一般我们只使用第一种形式来生成数组。

### 给数组添加元素

可以在声明数组时就给数组添加元素，也可以在声明数组后再添加元素。

```javascript
var a=[1,2,3];
a; // 输出 [1, 2, 3]
a[3]=4;
a; // 输出 [1, 2, 3, 4]
a[5]=5;
a; // 输出 [1, 2, 3, 4, undefined, 5]
```

被跳过的索引号，会自动默认成声明但无赋值的变量，也就是`undefined`。访问数组的元素跟之前字符串的访问方法是一样的，就是用`变量名[索引数]`就可以了。

### 数组的属性

数组有一个`length`属性，它的值的是数组的长度，一个有`n`个元素的数组，它的`length`属性值为`n`，它的元素的索引从`0`到`n-1`。

```javascript
var a=[1,2,3];
a.length; // 输出 3
```

### 编写代码

定义一个字符数组，保存从`a`到`g`，再使用循环把它们逐一输出出来。

### 数组的方法

跟`Math`对象不同，以下的这些方法都是在数组实例上使用的，而不是在系统对象本身上使用。

方法          | 描述
--------------|-----
push()        | 向数组的末尾添加一个或更多元素，并返回新的长度。
pop()         | 删除数组的最后一个元素并返回删除的元素。
unshift()     | 向数组的开头添加一个或更多元素，并返回新的长度。
shift()       | 删除并返回数组的第一个元素。
splice()      | 从数组中添加或删除元素，返回被删除的元素数组。
concat()      | 连接两个或更多的数组，并返回结果。
indexOf()     | 搜索数组中的元素，并返回它所在的位置。
lastIndexOf() | 返回一个指定的字符串值最后出现的位置，在一个字符串中的指定位置从后向前搜索。
join()        | 把数组的所有元素放入一个字符串。
reverse()     | 反转数组的元素顺序。
slice()       | 选取数组的的一部分，并返回一个新数组。
sort()        | 对数组的元素进行排序。

其中`pop`、`push`、`shift`、`unshift`、`splice`、`sort`是会把原来的数组改变的，使用的时候要注意。其它的方法都会有返回值，如果是数组操作的话会返回新数组，不会在原有的数组上改动。

```javascript
var a=[1,2,3];
a.push(4); // 输出 4
a; // 输出 [1, 2, 3, 4]
a.push(5,'a','b'); // 输出 7
a; // 输出 [1, 2, 3, 4, 5, "a", "b"]
a.pop(); // 输出 "b"
a; // 输出 [1, 2, 3, 4, 5, "a"]
a.shift(); // 输出 1
a; // 输出 [2, 3, 4, 5, "a"]
a.unshift(0,1,"c"); // 输出 8
a; // 输出 [0, 1, "c", 2, 3, 4, 5, "a"]
a.splice(3,0,"d","e"); // 输出 []
a; // 输出 [0, 1, "c", "d", "e", 2, 3, 4, 5, "a"]
a.splice(3,3,"x"); // 输出 ["d", "e", 2]
a; // 输出 [0, 1, "c", "x", 3, 4, 5, "a"]
a.splice(5); // 输出 [4, 5, "a"]
a; // 输出 [0, 1, "c", "x", 3]
a.splice(10,2,10,11);
a; // 输出 [0, 1, "c", "x", 3, 10, 11]
a.sort(); // 输出 [0, 1, 10, 11, 3, "c", "x"]
a; // 输出 [0, 1, 10, 11, 3, "c", "x"]
```

**splice方法既可以添加元素，又可以删除元素**  

上边几个方法都会在原本的数组上进行操作，会改变它的元素，下边几个方法就不会。

```javascript
var a=[1,2,3];
var b=a.concat([4,5]);
a; // 输出 [1, 2, 3]
b; // 输出 [1, 2, 3, 4, 5]
var c=a.concat([6,7],[8],[9,10]);
a; // 输出 [1, 2, 3]
c; // 输出 [1, 2, 3, 6, 7, 8, 9, 10]
var d=a.reverse();
a; // 输出 [1, 2, 3]
d; // 输出 [3, 2, 1]
var e=c.slice(3,5);
c; // 输出 [1, 2, 3, 6, 7, 8, 9, 10]
e; // 输出 [6, 7]
var f=c.join();
c; // 输出 [1, 2, 3, 6, 7, 8, 9, 10]
f; // 输出 "1,2,3,6,7,8,9,10"
var g=c.join('');
c; // 输出 [1, 2, 3, 6, 7, 8, 9, 10]
g; // 输出 "123678910"
```

### 编写代码

1. 有一个字符串`var s="abcdefg"`，用数组的方法将它反转过来。
2. 使用`for`循环，生成一个数组，元素从`-1`到`-10`。
3. 有一个字符串`var s="abcdefghijklmnopqrstuvwxyz"`，使用循环的方法，从`a`开始，每隔3个字母，取一次，求最后的字符串。比如`"aei..."`。


## 二维数组

因为数组中的元素可以存放任何数据，所以如果一个数组它的每个元素都又是一个数组的话，那么这个数组就是二维数组，以此类推N维数组。

### 声明方式

可以采用直接声明的办法。

```javascript
var a=[[1,2,3],[4,5,6,7],[8,9]];
```

数组中的每一个子数组，都可以是不一样的长度。

### 访问元素

访问一维数组的时候，要用`[]`写一个索引号，二维的就需要写两个，以此类推。

```javascript
var a=[[1,2,3],[4,5,6,7],[8,9]];
a[1][2]; // 输出 6
```

### 编写代码

1. 用循环的方法，把上边的二维数组中的每一个元素都输出出来。
2. 用同样的方法，生成一个3*3的二维数组，并把`1-9`九个数字，按顺序放在里边。
3. 用同样的方法，生成一个5*5的二维数组，将`1-25`倒着放进去。
4. 用二维数组，写一个平面三角形的数据，每个元素都是一个点（数组形式），然后用海伦公式求它的面积。


----------

end of file