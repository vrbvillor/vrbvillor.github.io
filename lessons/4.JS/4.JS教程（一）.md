# JS教程（一）

## 控制台使用方法

### 输入脚本

1. 打开浏览器，按F12键
2. 在出现的面板中，找到**Console**标签，点击
3. 找到蓝色箭头所在的那一行，那里就是命令行
4. 在命令行中输入`123`，控制台会响应并输出`123`

在控制台中，可以输入脚本，输入脚本后，浏览器会立即执行所输出的脚本。如果脚本正常，则正常执行脚本后，并返回最后的结果；如果输入的脚本有误，则会报告相应的错误。具体错误信息指代的错误内容，会在今后的学习过程当中遇到，这里不一一介绍。

### 多行脚本

正常在控制台命令行中输入一段脚本后回车，是执行回车之前输入的脚本。如果想要输入多行脚本，则需要在每一行后，使用`Shift+回车`，这样脚本就可以变成多行脚本。

### 调节控制台

1. 可以让控制台在浏览器窗口的下方或右侧，或独立
2. 可以让控制台中的组成元素横向或纵向排列
3. 可以展开一个响应式调节窗口，以在不同分辨率下观察页面

### Network标签

1. 可以在此查看网页调用资源的情况
2. 可以启用或禁止页面缓存

----------

## 数据类型

Javascript是非严格语法，所声明的变量可以存放任意类型的数据。在Javascript中，数据类型分为两种：
1. 原始数据类型（数字型、字符型、布尔型、undefined、null）
2. 引用数据类型（对象，包括数组、普通对象、DOM对象等）

## 数字型

1. 可以是整数、小数、双精度数字，只能处理实数，无法处理虚数。
2. 显示出来的是整数、小数、双精度数，无法显示分数、根号等形式。
3. 数字可以作加减乘除等运算，这是最简单的数值型运算符。

### 数制

常用的有二、八、十、十六进制。

1. 正常写下的数字，就是十进制。

    ```javascript
    123 // = 123
    ```

2. 二进制，以`0b`开头，后续数字只能是`0`或`1`。
    
    ```javascript
    0b1001 // = 9
    ```

3. 八进制，以`0`开头，后续数字只能是`0`到`7`。

    ```javascript
    0101 // = 65
    ```

4. 十六进制，以`0x`开头，后续数字只能是`0`到`9`及`a`到`f`。

    ```javascript
    0xf0 // = 240
    ```

### 数制转换

+ 要将十进制数转化成其它进制数，可以使用`.toString(基数)`的方法。

    ```javascript
    (123).toString(8); // 输出 "173"
    (123).toString(16); // 输出 "7b"
    (123).toString(2); // 输出 "1111011"
    ```
+ 要将其它进制数（其实是字符串）转化成十进制数，可以使用`Number(string)`或`parseInt(string)`方法。

    ```javascript
    Number("0x7b"); // 输出 123
    parseInt("0x7b"); // 输出 123
    ```

### 函数的基本用法

上边代码中的`Number(string)`和`parseInt(string)`都叫函数，其中`Number`跟`parseInt`叫作函数的名称，`string`叫作参数，更详细的函数知识会在后边学习到。

## 运算符简介

按功能性分，运算符分为：

1. 数据运算符
2. 赋值运算符
3. 比较运算符
4. 逻辑运算符

按被运算的因子数量分，运算符分为：

1. 单目运算符
2. 双目运算符
3. 三目运算符

### 运算符（一）--数值运算符

+ `+`：加法，可以让数字相加，或字符串相联。

    ```javascript
    3+2; // 输出 5
    'a'+'b'; // 输出 'ab'
    ```
+ `-`：减法，双目运算符，可以让数字相减。
+ `*`：乘法，双目运算符，可以让数字相乘。
+ `/`：除法，双目运算符，可以让数字相除，如果用`0`作除数的话，会得到`Infinity`无限（而不是报错）。
+ `%`：取模（余数），双目运算符，可以得到被除数除以除数之后的余数。
+ `++`：自增，单目运算符，让变量自己加1后，再把结果赋值给自己（讲到**变量**处时再试验）。
+ `--`：自减，单目运算符，让变量自己减1后，再把结果赋值给自己（同上）。

## 字符型

1. 可以是单独的字符，也可以是连续的多个字符，叫作“字符串”。
2. 字符型数据必须以一对单引号或一对双引号来包裹。
3. 如果字符串本身包含有单引号或双引号，则需要用`\`来转译。

    ```javascript
    'I\'m a boy.'
    "You say:\"Nothing matters.\""
    ```

4. 字符串里也可以只包含数字，控制台将会返回带引号的数字，说明它是字符串；如果是数字的话是不会带引号的。

    ```javascript
    "678"; // 输出 "678"
    678; // 输出 678
    ```

5. 写成字符串的数字，也可以根真正的数字进行四则运算。

    ```javascript
    "123"+456; // 输出 "123456"
    "123"-456; // 输出 -333
    "123"*456; // 输出 56088
    "123"/456; // 输出 0.26973684210526316
    "123"%456; // 输出 123
    ```

6. 但是非数字内容的字符串，与数字进行`+`运算，就相当于将两个字符串连接进来。

    ```javascript
    "abc"+123; // 输出 "abc123"
    456+"xyz"; // 输出 "456xyz"
    ```

### 常用的转译字符

像上边使用的`\'`及`\"`那样，一个反斜线`\`加上一个字符，有可能代表一个特殊的功能型字符。

+ `\n`：在字符之间插入一个转行，例`a\nb`。
+ `\\`：输出`\`反斜线，例`a\\nb`。
+ `\t`：相当于按了一次`Tab`键，生成若干空格。

在正则表达式中还有更多更复杂的转译字符，等学到正则表达式时再一一介绍。

### escape函数

一般在Javascript或CSS文件中，包含非ASCII字符的话，右键查看源代码的时候，可能会出现乱码。为了防止乱码的出现，一般会将这些非ASCII码字符，转化成Unicode字符编码。在URL中的大多数字符，也都会被转化成ASCII字符编码或Unicode字符编码。

```javascript
escape("我"); // 输出 "%u6211"
unescape("%u6211"); // 输出"我"
```

## 布尔型

简单地来说，布尔型数据就是“对”和“错”，或“真”和“假”。它只有两种值，即`true`和`false`。它一般用来表示一段代码运算的结果（成功或失败），或者是作为一种标记（开关）。

### 运算符（二）--比较运算符

比较运算符全是双目运算符，它们返回的结果都是`true`或`false`。

+ `>`：大于，对于数字来说，就是比较它们值的大小；对于字符串来说，是按照它们的每一个字进行Unicode编码比较，越先遇到编码数字比较大的，那一个字符串就比较大（如果某一字符串是另一串的子集，那么全集比较大）。

    ```javascript
    3>2; // 输出 true
    5<8; // 输出 false
    "我">"你"; // 输出 true
    "一">"你"; // 输出 false
    escape("我"); // 输出 "%u6211"
    escape("你"); // 输出 "%u4F60"
    escape("一"); // 输出 "%u4E00"
    "abc">"abd"; // 输出 false
    "abc">"ab"; // 输出 true
    ```

+ `<`：小于。
+ `>=`：大于或等于。
+ `<=`：小于或等于。
+ `==`：等于，使用这个等于来判断写成字符串的数字跟真正数字的话，会返回按数字相比的结果。

    ```javascript
    "123"==123; // 输出 true
    ```

+ `===`：精确等于，与**等于**不同，它除了比较值之外，还比较类型，所以按上边代码的写法，使用精确等于会返回`false`。

    ```javascript
    "123"==123; // 输出 false
    ```

+ `!=`：不等于。
+ `!==`：不精确等于。

### 运算符（三）--逻辑运算符

+ `&&`：逻辑与运算，双目运算符，当两边的式子都为`true`时返回`true`，否则返回`false`。
+ `||`：逻辑或运算，双目运算符，当两边的式子都为`false`时返回`false`，否则返回`true`。
+ `!`：逻辑非运算，单目运算符，返回的值是返回式子的值的相反结果。

逻辑运算符不会改变两侧表达式的值，会直接返回最后一次遇到的值。

```javascript
5 && 3; // 输出 3
4 || 2; // 输出 4
!0; // 输出 true
```

逻辑运算符，由于Javascript的优化设置，使得它们可以用来控制程序流程，等讲到**程序流程**时再细讲。

## 类型转化

### Number方法

```javascript
Number(123); // 输出 123
Number("456"); // 输出 456
Number("abc"); // 输出 NaN
Number(0x7b); // 输出 123
Number("0x7b"); // 输出 123
Number("50px"); // 输出 NaN
parseInt("50px"); // 输出 50
parseInt("px50"); // 输出 NaN
parseInt("10010",2); // 输出 18
parseInt("0101",8); // 输出 65
parseInt("ff",16); // 输出 255
parseFloat("3.1415"); // 输出 3.1415
parseFloat("3.1415e2"); // 输出 314.15
Number(true); // 输出 1
Number(false); // 输出 0
parseInt(true); // 输出 NaN
parseInt(false); // 输出 NaN
+"456"; // 输出 456
```

> 使用`+`运算符可以方便地把已经判定为数字的字符串转化成数字，进而进行数值运算。  
  
  
> 值`NaN`是数字类型下的一个特殊值，它表示的是这个值不是一个数字**Not A Number**的意思，也就代表着在得到这个值的过程当中，运算出现问题，有不是数字的量被进行数值运算。  

### String方法

```javascript
String(123); // 输出 "123"
String("456"); // 输出 "456"
String("abc"); // 输出 "abc"
String(0x7b); // 输出 "123"
String("0x7b"); // 输出 "0x7b"
String(3.1415e2); // 输出 "314.15"
String("3.1415e2"); // 输出 "3.1415e2"
String(true); // 输出 "true"
String(false); // 输出 "false"
(0x7b).toString(10); // 输出 "123"
```

### Boolean方法

```javascript
Boolean(123); // 输出 true
Boolean("abc"); // 输出 true
Boolean(null); // 输出 false
Boolean(undefined); // 输出 false
Boolean(NaN); // 输出 false
Boolean(1); // 输出 true
Boolean(0); // 输出 false
Boolean(-1); // 输出 true
!!"xyz"; // 输出 true
```

> 使用`!!`可以方便地将一个值转化成布尔值，一个`!`其实也能转化布尔值，但是得到的是相反的结果，所以写两个。除了`0`以外的任何数字都是`true`，所以`0`也常常被用来当作布尔值。


## 其它类型
### undefined

下边讲到变量的时候再细说这个值。

### null

后边讲到对象的时候再细说这个值。

### 引用数据类型

最基本的引用数据类型就是对象，还有数组（也是由对象派生出来的），现在这里暂时不讲解。

## 判断值的类型

### typeof 方法

使用`typeof 值`，可以返回值的类型，返回的是一个字符串，恒为小写。

```javascript
typeof 123; // 输出 "number"
typeof "123"; // 输出 "string"
typeof true; // 输出 "boolean"
typeof undefined; // 输出 "undefined"
typeof null; // 输出 "object"
typeof NaN; // 输出 "number"
```

### instanceof 方法

使用`值 instanceof 类名`，可以返回布尔值，来判断值是否为那一个类的实例，暂时不讲，等到学习了类及对象时再讲。

----------

## 变量

变量是用来存放数据的，在编写代码时，可以用变量来存放数据，也可以从变量中读取数据。

### 命名法

建议使用匈牙利命名法，即**类型+首字母大写变量名**，这样既能看出变量类型，又能知道变量用途。在Javascript中，无论是变量还是数据都是区分大小写的。所以变量`A`和变量`a`是不同的变量，字符`"A"`和字符`"a"`也是不同的字符。

**数字型**  

类型前缀 | 类型名           | 类型描述
---------|------------------|---------
i        | integer          | 整数
pi       | positive integer | 正整数，整数且大于0
ni       | natural integer  | 自然数，非负整数
ind      | index            | 索引（与自然数一样）
n        | number           | 数字（整数或浮点数）
cnt      | counter          | 计数器（与自然数一样）

**字符型**
类型前缀 | 类型名             | 类型描述
---------|--------------------|---------
c        | character          | 单字符
s        | string             | 字符串
txt      | text               | 大段文本
t        | time               | 时间
d        | date               | 日期
dt       | datetime           | 日期及时间
sJQ      | selector of JQuery | jQuery选择器

**对象型**  

类型前缀 | 类型名           | 类型描述
---------|------------------|-------
o        | object           | 任意对象
oJQ      | object of JQuery | jQuery对象
dom      | DOM              | DOM对象
a        | array            | 数组
f        | function         | 函数
cb       | callback         | 回调函数
j        | json             | JSON对象

**其它类型**  

类型前缀 | 类型名             | 类型描述
---------|--------------------|---------
reg      | Regular Expression | 正则表达式
b        | boolean            | 布尔型

### 声明变量

使用`var`来声明一个变量。刚刚声明的未初始化的变量，它的值是`undefined`，它也是一个原始类型。而`undefined`这个值的类型也叫作`undefined`。

```javascript
var a;
a; // 输出 undefined，没有引号，是值
typeof a; // 输出 "undefined"，有引号，是字符串
```

使用一个未声明的变量是会报错的。

```javascript
a; // 报错，`a`未定义
```

如果要判断一个变量是否存在，可以使用`typeof`方法，来判断它的类型是不是`undefined`。

### 初始化变量

在声明时可以直接赋予变量一个值，这个过程叫**初始化**。Javascript是非严格语法，所声明的变量，可以用来存放任意类型的数据。在使用变量之前，始终使用`var`声明变量是一个好习惯，可以防止变量污染。变量污染的概念等学习到函数时再细说。


```javascript
var a = 3;
a; // 输出 3
a = "abc";
a; // 输出"abc"
```

赋值运算是从右往左进行的，程序会先把`=`右边的式子的结果计算出来，再赋值给变量。

```javascript
var a = 3 + 2;
a; // 输出 5
```

在初始化变量的时候，虽然可以使用连等号，不会报错，但是一定不要这么写，因为连等号除了第一个变量名之外，后续的变量名都等同于没使用`var`声明而直接赋值的行为，这会造成变量污染。

### 运算符（四）--赋值运算符

除了`=`之外，还有其它的赋值运算符，之前学过的`++`及`--`，也等于是一个数值运算加上赋值运算符。

```javascript
var a=3;
a++; // 输出 3
a; // 输出 4
```

等同于

```javascript
var a=3;
a = a + 1; // 输出 4
```

> 代码的第二行不是一个等式，它是先计算出`a + 1`的值，再把这个值重新赋值给`a`变量。  

运算符`++`及`--`不仅可以放在变量后边，还可以放在变量前边。它们的区别是，放在后边时是先把变量使用一次后再加1或减1，放在前边时是先把变量加1或减1再使用它。看下边代码。

```javascript
var a=3,b=a++,
    c=3,d=++c;
a; // 输出 4
b; // 输出 3
c; // 输出 4
d; // 输出 4
```

代码中`b`变量为3，是因为在`b=a++`时，先把`a`的值给了`b`，之后`a`才自增1，再赋值回给`a`。而变量`d`的过程正好相反，是先自增再赋值。

### 运算符（五）--其它赋值运算符

类似于自增自减运算，还有对应数值运算并同时赋值的其它运算方法的简写。既然都是赋值运算，它们一定都是双目运算符。

+ `+=`：加法后赋值，先做式子右边的加法，再把结果赋值给左边的变量。

    ```javascript
    var a = 3;
    a += 2;
    ```
    
    等同于
    
    ```javascript
    var a = 3;
    a = a + 2;
    ```
+ `-=`：减法后赋值。
+ `*=`：乘法后赋值。
+ `/=`：除法后赋值。
+ `%=`：取余后赋值。

## 对象及方法初涉

### Object 类

类是一系列具有相似特征的实例的集合，所抽象出来的东西，它具有所有实例共同的特征。在Javascript中，Object类是所有类的基础，所有其它的类都是从Object类派生出来的，包括之前学过的String、Number、Boolean，它们都是内置对象，之后我们还会学习Math、Array、Date还有Object本身。除了系统内置的类，我们还可以自定义类，这将会在以后的课程内容中学到。

### 对象

类是抽象的东西，它可以具象化成另外一个东西，叫作对象，或叫作实例。由类生成实例的方法是：

```javascript
var a=new Number(123.456);
```

上边代码中，`new`运算符是用来生成对象的，`Number`是一个构造函数，在`new`的操作下，生成了一个`Number`类型的对象（实例），将结果赋值给变量`a`。

### 属性

每个对象都是有属性的，这些属性可能是数据，也可能是方法（函数），访问对象属性的方法是：

```javascript
a.toFixed(2); // 输出 "123.46"
```

上边代码中，使用了`.`运算符，`a`是之前获取到的对象，`toFixed`是`a`对象上的一个方法，它是用来把一个数字保留小数位的四舍五入的方法。这里我们先暂时不介绍更深入的东西，只先学会使用对象的方法。

### 数字型变量的方法

```javascript
var a=12345.67890;
a; // 输出 12345.6789
a.toExponential(); // 输出 "1.23456789e+4"
a.toFixed(3); // 输出 "12345.679"
a.toPrecision(3); // 输出 "1.23e+4"
```

方法             | 参数     | 说明
-----------------|----------|-----
.toExponential() | 无       | 把数字转化成科学计数法的字符串
.toFixed(n)      | 小数位数 | 把数字转化成具有`n`位小数的字符串
.toPrecision(n)  | 有效位数 | 把数字转化成具有`n`位有效数字的字符串
.toString(n)     | 进制数   | 把数字转化成`n`进制表示的字符串

### 字符型变量的方法

```javascript
var a="abcdefg";
a[0]; // 输出 "a"
a.length; // 输出 7
a[7]; // 输出 undefined
a.charAt(0); // 输出 "a"
a.charAt(-1); // 输出 ""
a.charCodeAt(0); // 输出 97
a.concat('hijklmn'); // 输出 "abcdefghijklmn"
a; // 输出 "abcdefg"
a=a.concat('abcdefg'); // 输出 "abcdefgabcdefg"
a; // 输出 "abcdefgabcdefg"
a.indexOf('c'); // 输出 2
a.indexOf('C'); // 输出 -1
a.lastIndexOf('e'); // 输出 11
a.split('de'); // 输出 ["abc", "fgabc", "fg"]
a.split(); // ["abcdefgabcdefg"]
a.split(''); // ["a", "b", "c", "d", "e", "f", "g", "a", "b", "c", "d", "e", "f", "g"]
a.replace('abc','ABC'); // 输出 "ABCdefgabcdefg"
a=a.replace('abcdefg','ABCDEFG'); // 输出 "ABCDEFGabcdefg"
a; // 输出 "ABCDEFGabcdefg"
a.search('def'); // 输出 10
a.slice(5,8); // 输出 "FGa"
a.slice(5,-2); // 输出 "FGabcde"
a.slice(5,3); // 输出 ""
a.slice(5); // 输出 "FGabcdefg"
a.substr(5,8); // 输出 "FGabcdef"
a.substr(5,3); // 输出 "FGa"
a.substr(5,-2); // 输出 ""
a.substr(5); // 输出 "FGabcdefg"
a.substring(5,8); // 输出 "FGa"
a.substring(5,3); // 输出 "DE"
a.substring(3,5); // 输出 "DE"
a.substring(5,-2); // 输出 "ABCDE"
a.substring(5,-10); // 输出 "ABCDE"
a.substring(5); // 输出 "FGabcdefg"
a.toLowerCase(); // 输出 "abcdefgabcdefg"
a.toUpperCase(); // 输出 "ABCDEFGABCDEFG"
```


----------
end of file