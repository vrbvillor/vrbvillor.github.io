# CSS教程（四）

## 排版（布局和定位）

属性       | 说明                                                 | CSS
-----------|------------------------------------------------------|----
`float`    | 规定框是否应该浮动                                   | 1
`clear`    | 规定元素的哪一侧不允许其他浮动元素                   | 1
`position` | 规定元素的定位类型                                   | 2
`left`     | 设置定位元素左外边距边界与其包含块左边界之间的偏移   | 2
`right`    | 设置定位元素右外边距边界与其包含块右边界之间的偏移   | 2
`top`      | 设置定位元素的上外边距边界与其包含块上边界之间的偏移 | 2
`bottom`   | 设置定位元素下外边距边界与其包含块下边界之间的偏移   | 2
`z-index`  | 设置元素的堆叠顺序                                   | 2
`clip`     | 剪裁绝对定位元素                                     | 2


## 浮动与清除

### `float` 浮动

`float` 属性指定一个元素是否应该浮动。绝对定位的元素忽略 `float` 属性！浮动的元素会脱离当前容器的文档流，会影响布局。脱离文档流后，不会占用父级元素的尺寸。未浮动的元素会按照剩余空间进行排列，如果超过则会折到下一行。连续浮动的元素会按一定方向，按顺序排列，空间不足的话也会折到下一行。

值    | 描述
------|-----
none  | 默认值。元素不浮动，并会显示在其在文本中出现的位置。
left  | 元素向左浮动。
right | 元素向右浮动。

> 一旦给元素设置了`float:left|right;`，元素就将被视为块状元素。

### `clear` 清除浮动

`clear` 属性指定的左侧或右侧不允许浮动的元素。浮动被清除后，后续元素刚继续按默认的形式排列，且不会继续在浮动的元素的剩余空间中排列，而是另起新一行排列。

**正常的在文档流中的元素**  

```html
<style>
div{
    width : 100px;
    height : 100px;
    background-color : pink;
}
</style>
<div>一地在要工上是中国同和的有人我主产不为这民了发以经</div>
<div>一地在要工上是中国同和的有人我主产不为这民了发以经</div>
```

**有一个元素脱离文档流**

```html
<style>
div{
    width : 100px;
    height : 100px;
    background-color : pink;
}
.fl{
    float : left;
}
</style>
<div class="fl">一地在要工上是中国同和的有人我主产不为这民了发以经</div>
<div>一地在要工上是中国同和的有人我主产不为这民了发以经</div>
```

> 第二个粉色的背景消失了，但是文字还在。这是不正常的效果，如果让第二个粉色背景出现，要么也让它浮动，要么在第二个上边写清除浮动。

**让第二个元素也浮动**  

```html
<style>
div{
    width : 100px;
    height : 100px;
    background-color : pink;
}
.fl{
    float : left;
}
</style>
<div class="fl">一地在要工上是中国同和的有人我主产不为这民了发以经</div>
<div class="fl">一地在要工上是中国同和的有人我主产不为这民了发以经</div>
```

**清除第二个元素的浮动**  

```html
<style>
div{
    width : 100px;
    height : 100px;
    background-color : pink;
}
.fl{
    float : left;
}
.clear{
    clear : left;
}
</style>
<div class="fl">一地在要工上是中国同和的有人我主产不为这民了发以经</div>
<div class="clear">一地在要工上是中国同和的有人我主产不为这民了发以经</div>
```

### 图文混排效果

```html
<style>
div{
    width : 300px;
    height : 300px;
    background-color : pink;
}
img{
    float : left;
}
</style>
<div><img src="http://vrbvillor.github.io/lessons/sprite1.jpg" alt="" class="fl">一地在要工上是中国同和的有人我主产不为这民了发以经一地在要工上是中国同和的有人我主产不为这民了发以经一地在要工上是中国同和的有人我主产不为这民了发以经一地在要工上是中国同和的有人我主产不为这民了发以经一地在要工上是中国同和的有人我主产不为这民了发以经一地在要工上是中国同和的有人我主产不为这民了发以经一地在要工上是中国同和的有人我主产不为这民了发以经一地在要工上是中国同和的有人我主产不为这民了发以经一地在要工上是中国同和的有人我主产不为这民了发以经一地在要工上是中国同和的有人我主产不为这民了发以经</div>
```

### 普通的版块布局

![普通布局图](http://vrbvillor.github.io/lessons/3.CSS/%E5%B8%83%E5%B1%80%E7%BB%83%E4%B9%A0.gif)   

```html
<style>
*{
    margin : 0;
    padding : 0;
}
#con{
    width : 500px;
    height : 500px;
}
header{
    height : 50px;
    background-color : cyan;
}
main{
    height : 400px;
}
section{
    width : 300px;
}
figure{
    height : 150px;
    background-color : black;
}
section div,blockquote{
    width : 150px;
    height : 130px;
}
section,section div,dl{
    float : left;
}
section div{
    background-color : yellow;
}
blockquote{
    background-color : green;
}
blockquote,aside,ul{
    float : right;
}
dl{
    width : 200px;
    height : 120px;
    background-color : pink;
}
ul{
    width : 100px;
    height : 120px;
    background-color : gray;
}
aside{
    width : 200px;
}
aside div{
    height : 200px;
}
aside div:first-child{
    background-color : blue;
}
aside div:last-child{
    background-color : red;
}
footer{
    height : 50px;
    background-color : purple;
}
</style>
<div id="con">
    <header>头部</header>
    <main>
        <section>
            <figure>Banner</figure>
            <div>简介</div>
            <blockquote>引用</blockquote>
            <dl>图文</dl>
            <ul><li>新闻列表</li></ul>
        </section>
        <aside>
            <div>推荐</div>
            <div>最近</div>
        </aside>
    </main>
    <footer>脚部</footer>
</div>
```

### 旋涡型的布局

![普通布局图](http://vrbvillor.github.io/lessons/3.CSS/%E5%B8%83%E5%B1%80%E7%BB%83%E4%B9%A02.gif)   

```html
<style>
#con{
    width : 500px;
    height : 500px;
    border : 10px solid green;
}
#d1,#d5{
    width : 350px;
    height : 150px;
    background-color : black;
}
#d2,#d4{
    width : 150px;
    height : 350px;
    background-color : red;
}
#d3{
    width : 200px;
    height : 200px;
    background-color : purple;
}
#d1,#d4,#d5{
    float : left;
}
#d2,#d3{
    float : right;
}
</style>
<div id="con">
    <div id="d1"></div>
    <div id="d2"></div>
    <div id="d3"></div>
    <div id="d4"></div>
    <div id="d5"></div>
</div>
```

### 清除浮动的必要性

```html
<style>
*{
    margin : 0;
    padding : 0;
}
#con{
    width : 500px;
    border : 10px solid green;
}
#con div{
    width : 100px;
    height : 100px;
    box-sizing : border-box;
    border : 1px solid black;
    float : left;
}
</style>
<div id="con">
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
</div>
```

看上边代码生成的页面，外围容器的高没随着子元素加高，因为子元素使用了浮动，它们都脱离了文档流，造成容器的文档流为空，则没有高度。这时，就需要清除子元素浮动造成的这个后果，有两种方法：

1. 在最后加一个元素，这个元素清除浮动，它就能卡在最后一个子元素的下一行，这样就能把容器的文档流撑高。

    ```html
    <style>
    *{
        margin : 0;
        padding : 0;
    }
    #con{
        width : 500px;
        border : 10px solid green;
    }
    #con div{
        width : 100px;
        height : 100px;
        box-sizing : border-box;
        border : 1px solid black;
        float : left;
    }
    p{
        clear : both;
    }
    </style>
    <div id="con">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <p></p>
    </div>
    ```

2. 直接使用流行的方法，给容器增加伪元素，在伪元素上使用清除浮动样式。

    ```html
    <style>
    *{
        margin : 0;
        padding : 0;
    }
    #con{
        width : 500px;
        border : 10px solid green;
    }
    #con div{
        width : 100px;
        height : 100px;
        box-sizing : border-box;
        border : 1px solid black;
        float : left;
    }
    #con:after{
        content : '';
        display : block;
        clear : both;
    }
    </style>
    <div id="con">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
    </div>
    ```

----------
end of file